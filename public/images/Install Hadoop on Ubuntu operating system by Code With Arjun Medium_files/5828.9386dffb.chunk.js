var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(self.webpackChunklite=self.webpackChunklite||[]).push([[5828],{42440:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var r=i.createElement("g",{fillRule:"evenodd"},i.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),i.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));const o=function(e){return i.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19"},e),r)}},41135:(e,n,t)=>{"use strict";t.d(n,{b:()=>I});var i=t(59713),a=t.n(i),r=t(67294),o=t(33380),l=t(46484),d=t(319),s=t.n(d),c=t(38883),u=t(94124),m=t(96370),p=t(14646),f=t(97217),h=t(32342);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k={clear:"both"},S={clear:"both",width:"100%"},b=function(e){var n,t,i=e.layoutGroup,a=e.postBodyInserts,o=e.isEmbedded,l=(0,p.I)(),d=i.styleGroups[0].paragraphViewModels[0].richTextStyle,s=i.styleGroups.map((function(e,n){var t=n<3;return r.createElement(c.ZQ,{key:n,styleGroup:e,postBodyInserts:a,richTextStyle:d,loading:t?u.K.EAGER:u.K.LAZY})}));if((0,h.jH)(d)||o||"INLINE"===d)return r.createElement(r.Fragment,null,s);switch(i.effectiveLayout){case"OUTSET_CENTER":case"OUTSET_ROW":return r.createElement("div",{className:l(k)},r.createElement(m.P,{size:{xs:"full",sm:"full",md:"full",lg:"outset",xl:"outset"}},s));case"FULL_WIDTH":return r.createElement("div",{className:l(S)},s);default:return"FULL_PAGE"===d?r.createElement(m.P,{size:"app"},s):r.createElement("div",{className:l((n=i.effectiveLayout,t={boxSizing:"border-box",margin:"0 auto",width:"100%"},"INSET_CENTER"===n?v(v({},t),{},{maxWidth:"700px",padding:"0 1.25em"}):t))},s)}},y=r.memo(b),N=t(98096),E=t(31889),F=t(97489),w={":after":{display:"block",content:'""',clear:"both"}},x=t(46696),P=t(3207);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T=function(){return{display:"table-cell",paddingBottom:"32px",verticalAlign:"bottom"}};function C(e){var n,t,i,a,l=e.bgImage,d=e.children,s=e.isFullPage,c=e.paragraphName,u=(0,p.I)(),m=(0,E.F)();return l&&l.id&&s?r.createElement(o.TA,{name:c,type:"bgimage"},r.createElement("div",{className:u((n=l,t=n.id,i=n.originalWidth,a=n.originalHeight,function(){var e=[400,600,800,1e3,1200,1400,1600,1800,2e3],n={miroId:t,strategy:x._S.Resample,verticalGradient:{start:29,end:81,opacity:40}},r=e.reduce((function(t,r,o){var l=(0,x.W6)(_(_({},n),{},{width:r,height:r/i*a}));return o===e.length-1?(t.backgroundImage="url(".concat(l,")"),t):(t["@media (min-width: ".concat(r,"px)")]={backgroundImage:"url(".concat(l,")")},t)}),{});return _({backgroundColor:"rgba(0, 0, 0, 0.9)",backgroundPosition:"50% 50%",backgroundSize:"cover",display:"table",minHeight:"100vh",width:"100%"},r)}))},r.createElement("div",{className:u(T)},r.createElement(N.f,{theme:(0,P.GV)(m)},d)))):d}var I=function(e){var n=e.paragraphViewModels,t=e.postBodyInserts,i=e.section,o=r.useContext(l.M),d=(0,p.I)();if(0===n.length)return null;var u,m=function(e){var n=[],t=[];e.forEach((function(e){var i=function(e,n){switch(n){case f.ms.INSET_LEFT:case f.ms.OUTSET_LEFT:return"IMG"===e||"IFRAME"===e?f.ms.INSET_CENTER:n;case f.ms.OUTSET_ROW_CONTINUE:return f.ms.OUTSET_ROW;default:return n||f.ms.INSET_CENTER}}(e.paragraphStyle,e.paragraph.layout),a=n[n.length-1];if(a&&a.effectiveLayout===i)t.push(e);else{if(a){var r,o=(0,c.lD)(t);(r=a.styleGroups).push.apply(r,s()(o))}t.length=0,t.push(e),n.push({styleGroups:[],effectiveLayout:i})}}));var i=n[n.length-1];if(i){var a,r=(0,c.lD)(t);(a=i.styleGroups).push.apply(a,s()(r))}return n}(n),h=(u=n[0].richTextStyle,function(e){switch(u){case"SERIES":return{paddingTop:"32px",paddingBottom:"32px",margin:"auto 0",width:"100%"};case"STREAM":case"CARD":case"FULL_PAGE":case"INLINE":return{wordBreak:"break-word",wordWrap:"break-word"};case"SHORTFORM_CARD":return a()({wordBreak:"break-word",wordWrap:"break-word",position:"relative",overflow:"hidden",height:"340px"},F.md(e),{height:"218px"});default:return{}}});return r.createElement("div",{className:d([h,w])},r.createElement(C,{bgImage:i.backgroundImage,isFullPage:"FULL_PAGE"===n[0].richTextStyle,paragraphName:n[0].paragraph.name},m.map((function(e,n){return r.createElement(y,{key:n,layoutGroup:e,postBodyInserts:t,isEmbedded:o})}))))}},76937:(e,n,t)=>{"use strict";t.d(n,{G:()=>R});var i=t(34575),a=t.n(i),r=t(93913),o=t.n(r),l=t(2205),d=t.n(l),s=t(78585),c=t.n(s),u=t(29754),m=t.n(u),p=t(59713),f=t.n(p),h=t(67294),g=t(27517),v=t(35989),k=t(63459),S=t(35473),b=t(31711),y=t(17193),N=t(70194),E=t(16793),F=t(93310),w=t(77355),x=t(87691),P=t(97489),O=t(42440),_=t(21372),T=t(50458);var C={XS:{showFollowButton:!1,avatarScale:"XS"},S:{showFollowButton:!1,avatarScale:"S"},M:{showFollowButton:!0,avatarScale:"M"}},I=function(e,n){return f()({marginBottom:e?"2px":"0px",display:"flex",alignItems:"center"},P.xs(n),{marginBottom:"0px"})},B=function(e){d()(r,e);var n,t,i=(n=r,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=m()(n);if(t){var a=m()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return c()(this,e)});function r(){return a()(this,r),i.apply(this,arguments)}return o()(r,[{key:"render",value:function(){var e=this.props,n=e.authDomain,t=e.currentLocation,i=e.post,a=e.showBio,r=e.scale,o=void 0===r?"M":r,l=e.detailScale,d=void 0===l?"M":l,s=e.showStar,c=void 0===s?i.isLocked:s,u=e.hideCollection,m=void 0!==u&&u,p=e.hideAvatar,f=void 0!==p&&p,g=e.hideDescription,P=void 0!==g&&g,B=e.noClamp,R=void 0!==B&&B,D=i.id,L=i.creator,j=i.collection,M=i.statusForCollection,A=i.visibility,U=i.isPublished,G=C[o];if(!i||!D||!L)return null;var z=i.firstPublishedAt,H=L.username,W=L.name;if(!W||!H)return null;var V=h.createElement(y.Yt,{user:L,scale:G.avatarScale,link:!0}),Y=a?h.createElement("div",null,L.bio):null,Z="APPROVED"===M,q=G.showFollowButton?h.createElement(w.x,{marginLeft:"8px",display:"flex"},h.createElement(b.N,{creator:L,followButtonSize:"COMPACT",post:i,susiEntry:"follow_byline",showMembershipUpsellModal:!!i.collection,isSubscribeCompact:!0})):null,K=h.createElement(N.h,null,(function(e){return h.createElement(E.Z,null,(function(i){return h.createElement("div",{className:e(I(G.showFollowButton,i))},h.createElement(x.F,{scale:d,tag:"span",color:"DARKER",clamp:R?void 0:1},h.createElement(F.r,{href:(0,T.AW)(L,n),inline:!0},W),j&&Z&&!m?h.createElement("span",null," ","in"," ",h.createElement(F.r,{href:(0,T.WG)(j,t,n),inline:!0},j.name)):null),q)}))})),X=h.createElement(x.F,{scale:d,tag:"span",clamp:1},Y,h.createElement("div",null,U?h.createElement(F.r,{href:(0,T.jV)(i),inline:!0},z&&h.createElement(k.E,{timestamp:z})):h.createElement("span",null,"Draft")," ","Â·"," ","UNLISTED"===A?h.createElement(x.F,{scale:"S",tag:"span"},h.createElement(O.Z,null)," Unlisted"):h.createElement(h.Fragment,null,(0,_.Vd)(i.readingTime||0)," min read"),c&&h.createElement(v.U,{padding:"0 0 0 4px",post:i})));return h.createElement(S.Y,{avatar:!f&&V,title:K,description:!P&&X})}}]),r}(h.Component),R=(0,g.$j)((function(e){return{currentLocation:e.navigation.currentLocation,authDomain:e.config.authDomain}}))(B)},70325:(e,n,t)=>{"use strict";t.d(n,{ud:()=>g,Yi:()=>v});var i=t(319),a=t.n(i),r=t(91515),o=t(19308),l=t(68216),d=t(93647),s=t(84492),c=t(44210),u=t(13085),m=t(76430),p=t(93403),f=t(10654),h=t(78693),g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSidebar_customStyleSheet"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CustomStyleSheet"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherSidebarFollows_customStyleSheet"}}]}}].concat(a()(r.qy.definitions))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSidebar_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"tagline"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(a()(o.I.definitions),a()(l.nf.definitions))};[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSidebar_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FollowAndSubscribeButtons_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherSidebarFollows_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SidebarProfilePic_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowingCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserSubscribeButton_user"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_post"}}]}}].concat(a()(d.C.definitions),a()(v.definitions),a()(s.i.definitions),a()(l.$m.definitions),a()(r.FB.definitions),a()(m.G.definitions),a()(u.b.definitions),a()(c.w.definitions),a()(p.z.definitions),a()(o.b.definitions),a()(f.x.definitions),a()(h.S.definitions))},90504:(e,n,t)=>{"use strict";t.d(n,{y:()=>ie});var i=t(67154),a=t.n(i),r=t(319),o=t.n(r),l=t(67294),d=t(33380),s=t(14646),c={display:"flex",justifyContent:"center",marginTop:"32px",marginBottom:"14px",paddingTop:"24px",paddingBottom:"10px"},u=function(e){return{backgroundColor:e.baseColor.text.darker,borderRadius:"50%",display:"inline-block",height:"3px",width:"3px"}},m={marginRight:"20px"};function p(){var e=(0,s.I)();return l.createElement("div",{className:e(c),role:"separator"},l.createElement("span",{className:e([u,m])}),l.createElement("span",{className:e([u,m])}),l.createElement("span",{className:e(u)}))}var f=t(41135),h=t(63038),g=t.n(h),v=t(50008),k=t.n(v),S=t(23450),b=t.n(S),y=t(28655),N=t.n(y),E=t(92471),F=t(17193),w=t(27048),x=t(77355),P=t(8431),O=t(31889),_=t(34135);function T(){var e=N()(["\n  fragment PostNotesDetails_user on User {\n    id\n    imageId\n    name\n    username\n    ...UserAvatar_user\n  }\n  ","\n"]);return T=function(){return e},e}function C(e){var n=e.grid.xStep;return{padding:"".concat(3*n,"px ").concat(4*n,"px ").concat(3*n,"px"),width:"400px"}}function I(e){var n=e.close,t=e.users,i=(0,s.I)(),a=l.useRef(null),r=(0,O.F)(),o=r.grid.xStep;return l.useEffect((function(){function e(){var e=a.current;if(e&&e.getBoundingClientRect){var t=e.getBoundingClientRect(),i=t.bottom,o=t.top<0||i>window.innerHeight,l=window.innerWidth<r.breakpoints.xl;(o||l)&&n()}}return _.V6.on("scroll_end",e),_.V6.on("resize_throttled",e),function(){_.V6.off("scroll_end",e),_.V6.off("resize_throttled",e)}}),[]),l.createElement("section",{ref:a,className:i(C)},l.createElement(x.x,{borderBottom:"BASE_LIGHTER",marginBottom:"-".concat(o,"px"),paddingBottom:"".concat(2*o,"px")},l.createElement(P.Lh,null,"Highlights (".concat(t.length,")"))),l.createElement(x.x,{marginLeft:"3px"},t.length&&t.map((function(e){return l.createElement(x.x,{display:"inline-block",key:e.id,marginTop:"".concat(5*o,"px"),marginRight:"".concat(5*o,"px"),width:"".concat(8*o,"px")},l.createElement(F.Yt,{hasPopover:!0,link:!0,user:e,scale:"XS"}))}))))}var B=l.memo(I),R=((0,E.Ps)(T(),w.W),t(83363)),D=t(69217),L=t(60748),j=t(25267),M=t(75880),A=t(66227),U=t(87691),G=t(29746),z=t(39202);function H(){return{border:"none",cursor:"pointer",display:"block",padding:"0px",textAlign:"left",width:"100%"}}function W(){return{left:"100%",position:"absolute",top:0}}function V(e,n){return{marginTop:"6px",maxWidth:"100%",position:"absolute",top:"".concat(e-(n||0),"px"),whiteSpace:"nowrap",width:"100%"}}function Y(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"".concat((0,G.G)(e,8,!0),"px"),position:"relative"}}function Z(){return{display:"inline-block",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}function q(e,n){return"number"==typeof e.startOffset&&"number"==typeof n.startOffset?e.startOffset<n.startOffset?-1:1:-1}function K(e,n){var t=n.startOffset,i=n.endOffset,a=n.paragraphs[0].name;if(!a||"number"!=typeof t||"number"!=typeof i)return e;var r=!1,o=e[a]||[];return o.length&&(o=o.map((function(e){var a=t<=e.endOffset+1,o=e.startOffset,l=e.endOffset;return a&&(r=!0,e.highlights.push(n),l=Math.max(i,e.endOffset),o=Math.min(t,e.startOffset)),{highlights:e.highlights,endOffset:l,startOffset:o}}))),r||o.push({highlights:[n],endOffset:i,startOffset:t}),e[a]=o,e}function X(e){var n=e.children,t=e.highlightString,i=e.toggle,a=(0,s.I)();return"Top highlight"===t?l.createElement(l.Fragment,null,n):l.createElement("button",{className:a(H),onClick:function(){return i()},onMouseDown:function(e){return e.preventDefault()}},n)}function $(e){var n=e.creator,t=e.positionMap,i=e.yPosOffset,a=e.viewerEdge,r=(0,s.I)();if("number"!=typeof i)return null;var o=Array.from(t.entries());return l.createElement(j.I,{nonBlocking:!0},(function(e){return l.createElement(l.Fragment,null,o.map((function(t,o){var d=g()(t,2),s=d[0],c=d[1],u=function(e,n,t,i){var a=null==i?void 0:i.isFollowing;if(1===e.length){if("anon"===e[0].userId)return"Top highlight";if(!n)return null;if(t&&t.id===e[0].userId&&n.id!==t.id&&!a)return null;if(n&&n.id===e[0].userId)return"You highlighted";if(e[0].user&&e[0].user.name)return e[0].user.name}var r=[];if(e.forEach((function(e){if(e.user){var i=n&&n.id===e.userId,o=e.user.name,l=t&&t.id===e.userId&&(!n||n.id!==t.id&&!a);i?r.length&&"You"===r[0]||r.unshift("You"):l||!o||r.includes(o)||r.push(o)}})),!r.length)return"Top highlight";if(1===r.length)return"You"===r[0]?"You highlighted":r[0];if(2===r.length)return"".concat(r[0]," and ").concat(r[1]);var o=r.slice(0,2),l=r.length-o.length;return"".concat(o[0],", ").concat(o[1],", and ").concat(l," ").concat(b()("other",l))}(c,e,n,a);return u?l.createElement("div",{className:r(V(s,i)),key:o},l.createElement(A.B,null,(function(e){var n=e.isVisible,t=e.hide,i=e.toggle;return l.createElement(l.Fragment,null,l.createElement(X,{toggle:i,highlightString:u},l.createElement(U.F,{scale:"S"},l.createElement("span",{className:r(Z)},u))),n&&l.createElement(D.G,{boundariesElement:"document",isVisible:!0,hide:t,placement:"right",popoverRenderFn:function(){var e=new Set,n=c.map((function(n){var t=n.user;return t&&t.id&&!e.has(t.id)?(e.add(t.id),t):null})).filter(z.b);return l.createElement(B,{close:t,users:n})}},l.createElement(l.Fragment,null)))}))):null})))}))}var Q=l.forwardRef((function(e,n){var t=e.creator,i=e.highlights,a=l.useContext(R.V).highlightSegments,r=l.useRef(null),d=l.useState(null),c=g()(d,2),u=c[0],m=c[1],p=(0,s.I)(),f=(0,O.F)(),h=l.useState(null),v=g()(h,2),S=v[0],b=v[1],y=l.useState(null),N=g()(y,2),E=N[0],F=N[1],w=(0,M.Pd)(t).viewerEdge;return l.useEffect((function(){var e=function(){var e=function(e,n,t){var i=new Map;if(e.size&&n.length){var a=function(e){var n=o()(e).sort(q).reduce(K,{});return Object.values(n).reduce((function(e,n){return n&&"object"===k()(n)&&n.length?(e.push.apply(e,o()(n)),e):e}),[])}(n),r=[];a.forEach((function(n){var a=n.highlights[0],o=a.paragraphs[0].name;if(a&&"number"==typeof a.startOffset&&o){var l=e.get("".concat(o,"_").concat(a.startOffset));if(l&&l.ref&&l.ref.current){var d,s=l.ref.current.getBoundingClientRect().top+window.pageYOffset;r.length&&(d=r.find((function(e){return s<e+t.newFonts.body.lineHeight.M&&s>e||s>e-t.newFonts.body.lineHeight.M&&s<e})));var c=d||s,u=i.get(c)||[];u.length||r.push(c);var m=u.concat(n.highlights);m.length&&i.set(c,m)}}}))}return i}(a,i,f);if(m(e),"function"!=typeof n&&null!=n&&n.current&&F(n.current.offsetTop),null!=r&&r.current){var t=r.current.getBoundingClientRect().left,l=window.innerWidth-t-8*f.grid.xStep;b(l)}};_.V6.on("resize_throttled",e);var t=(0,L.x)((function(n){"iframe.resize"!==n.context&&"player.js"!==n.context||e()})).destructor;return e(),function(){_.V6.off("resize_throttled",e),t()}}),[i,a]),l.createElement("div",{className:p(Y)},l.createElement(x.x,{display:"block",xs:{display:"none"},sm:{display:"none"},md:{display:"none"},lg:{display:"none"},speechifyIgnore:!0},l.createElement("aside",{className:p(W),ref:r,style:{width:S?"".concat(S,"px"):void 0}},u&&l.createElement($,{creator:t,highlights:i,positionMap:u,yPosOffset:E,width:S,viewerEdge:w}))))})),J=l.memo(Q),ee=t(75119);function ne(e,n){var t;return Object.keys(e).some((function(i){return!!e[i].find((function(e){return e.insertType===n}))&&(t=i,!0)})),t}var te=t(32342),ie=l.forwardRef((function(e,n){var t,i,r=e.bodyModel,c=e.creator,u=e.highlights,m=e.isAuroraPostPageEnabled,h=e.privateNotes,g=e.postBodyInserts,v=e.richTextStyle,k=void 0===v?"FULL_PAGE":v,S=e.shouldHideHighlightAnnotations,b=void 0!==S&&S,y=(0,s.I)(),N=l.createRef(),E=null===(t=l.useContext(d.u6).watchedBounds.get("byline"))||void 0===t||null===(i=t.ref)||void 0===i?void 0:i.current,F=E?E.offsetTop-48:100,w={position:"absolute",left:0,top:"calc(100vh + ".concat(F,"px)"),bottom:"calc(100vh + ".concat(100,"px)"),width:"10px",pointerEvents:"none"},x=(0,ee.Zx)().privateNoteSelection,P=l.useMemo((function(){return u&&x?[].concat(o()(u),[x]):u}),[u,x]),O=g?function(e){return ne(e,"BYLINE")}(g):void 0,_=g?function(e){return ne(e,"METER")}(g):void 0,T=l.useMemo((function(){return(0,te.fj)(r,{bylineParagraphName:O,meterParagraphName:_,highlights:P,isAuroraPostPageEnabled:m,isPostPage:!0,privateNotes:h,richTextStyle:k})}),[r,P,h,k]),C=g&&g.first;return l.createElement("section",{ref:n},l.createElement("div",{ref:N},l.createElement(l.Fragment,null,l.createElement(d.TA,{name:"ghost-track",type:"ghost",className:y(w)}),"FULL_PAGE"===k&&u&&u.length>0&&!b&&l.createElement(J,{creator:c,highlights:o()(u),ref:n}),!!C&&C.map((function(e,n){return e.component?l.createElement("div",{key:"postBodyInsertFirst_".concat(n)},e.component):null}))),T.map((function(e,n){if("HR"===e){var t,i,r=T[n-1],o=T[n+1],d="HR"!==r&&(null==r||null===(t=r.section)||void 0===t?void 0:t.backgroundImage),s="HR"!==o&&(null==o||null===(i=o.section)||void 0===i?void 0:i.backgroundImage);return d||s?null:l.createElement(p,{key:n})}return l.createElement(f.b,a()({key:e.section.name||n,postBodyInserts:g},e))}))))}))},91515:(e,n,t)=>{"use strict";t.d(n,{qy:()=>c,qL:()=>u,FB:()=>m,zH:()=>f});var i=t(319),a=t.n(i),r=t(76430),o=t(44210),l=t(13085),d=t(81712),s=t(68216),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherSidebarFollows_customStyleSheet"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CustomStyleSheet"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"blogroll"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"}}]}}]}}]},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherSidebar_customStyleSheet"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CustomStyleSheet"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherSidebarFollows_customStyleSheet"}}]}}].concat(a()(c.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherSidebarFollows_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowingCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(a()(l.b.definitions),a()(s.$m.definitions))},p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherSidebar_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherSidebarFollows_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SidebarProfilePic_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserSubscribeButton_user"}}]}}].concat(a()(m.definitions),a()(r.G.definitions),a()(o.w.definitions))},f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherSidebar_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherSidebar_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherSidebar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowingCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherSidebar_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"tagline"}}]}}]),a()(p.definitions),a()(l.b.definitions),a()(d.f.definitions))}},76430:(e,n,t)=>{"use strict";t.d(n,{G:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SidebarProfilePic_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}}]}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5828.9386dffb.chunk.js.map

}
/*
     FILE ARCHIVED ON 10:34:19 May 19, 2023 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 10:16:32 May 16, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 1.043
  exclusion.robots: 0.121
  exclusion.robots.policy: 0.106
  esindex: 0.015
  cdx.remote: 6.972
  LoadShardBlock: 100.478 (3)
  PetaboxLoader3.datanode: 64.393 (5)
  PetaboxLoader3.resolve: 123.687 (3)
  load_resource: 104.562 (2)
*/